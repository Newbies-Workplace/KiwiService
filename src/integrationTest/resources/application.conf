ktor {
    deployment {
        port = 8080
        port = ${?PORT}
    }
    application {
        modules = [
            pl.teamkiwi.ApplicationKt.mainModule,
            pl.teamkiwi.TestApplicationKt.testModule
        ]
    }
}

kiwi {
    auth {
        url = "http://127.0.0.1:"${ktor.deployment.port}
    }
    database {
        //DB_CLOSE_DELAY parameter indicates that connection is kept until jvm stops.
        url = "jdbc:h2:mem:test;DB_CLOSE_DELAY=-1"
        driver = "org.h2.Driver"
        user = "sa"
        password = ""
    }
}